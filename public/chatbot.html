<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>HK Express Customer Forum - Contact Us</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../src/styles/main.css">
        <link rel="stylesheet" href="../src/styles/sidebar.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
        
        <link rel="stylesheet" href="../src/styles/chatbot.css">
    </head>
    
<body>
    <div class="toggle-button" id="toggleButton">&#9776;</div>
    <nav class="sidebar" id="sidebar">
        <ul>
            <li><a href="index.html" class="nav-link"><i class="fas fa-comments"></i> Forum</a></li>
            <li><a href="about.html" class="nav-link"><i class="fas fa-info-circle"></i> About</a></li>
            <li><a href="liked_post.html" class="nav-link"><i class="fas fa-heart"></i> Liked Posts</a></li>
            <li><a href="create_post.html" class="nav-link"><i class="fas fa-pen"></i> Create Post</a></li>
            <li class="active"><a href="rank.html" class="nav-link"><i class="fas fa-star"></i> Rank</a></li>
            <li><a href="contact.html" class="nav-link"><i class="fas fa-envelope"></i> Contact Us</a></li>
        </ul>
    </nav>
    

    <header class="text-center p-4 header-black">
        <a href="https://www.hkexpress.com/zh-hk/?utm_source=google&utm_medium=paidsearch&gad_source=1&gclid=CjwKCAiAu9yqBhBmEiwAHTx5p8QAQpdoinN2Rg3JcKk1QZKlxifUMTWsedCQHCWiCemt1-p6A79J4RoCXR0QAvD_BwE" target="_blank">
          <img src="../src/components/images/HKE_Logo_EN_RGB_reversed.png" alt="HK Express" class="header-logo">
        </a>
    </header>
    
    <main class="container my-4">
        <section>
            
        </section>
        <section class="chat-box border p-3 my-3">
            <h3>Chat with Us</h3>
            <div class="chat-output"></div>
            <input type="text" class="chat-input" placeholder="Type a message...">
        </section>
      </main>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../src/components/sidebar.js"></script>
    <script>
        $(document).ready(function () {
            $('.chat-input').on('keydown', function (e) {
            if (e.keyCode == 13 && $(this).val()) {  // Enter key pressed and input field is not empty
                const message = $(this).val();
                $(this).val('');
                $('.chat-output').append(`<p>You: ${message}</p>`);  // Display user's message
                
                $.ajax({
                    url: '/run_script',
                    type: 'POST',
                    data: JSON.stringify({ 'query': message }),
                    contentType: 'application/json;charset=UTF-8',
                    success: function (response) {
                        $('.chat-output').append(`<p>Bot: ${response.response}</p>`);  // Display bot's response
                    },
                    error: function (error) {
                        console.error(error);
                    }
            });
        }
    });
});
    </script>
</body>
</html>
